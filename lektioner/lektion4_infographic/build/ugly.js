"use strict";var apiBase="http://swapi.co/api/";var getPeople=function getPeople(url){var currentTopWeight=0;$("#target").hide().fadeOut();getInner(apiBase+url);function getInner(url){$.get(url,function(data){$.each(data.results,function(index,person){person.mass=Number(person.mass.replace(/\,/g,""));currentTopWeight=getTopWeight(person.mass,currentTopWeight);var bmi=Math.round(person.mass/Math.pow(person.height/100,2)*10)/10;var div=$("<div/>",{class:"container"});var meter=$("<div/>",{class:"meter",style:"height: "+person.mass+"px"});var label=$("<p/>",{html:person.name});meter.append(label);div.append(meter);if(!isNaN(person.mass)){$("#target").append(div)}});if(data.next){getInner(data.next)}}).done(function(){console.log(this)})}};var getTopWeight=function getTopWeight(personMass,currentTop){var topWeight=personMass>currentTop?personMass:currentTop;return topWeight};getPeople("people/");$(document).ajaxStop(function(){$("#target").show()});